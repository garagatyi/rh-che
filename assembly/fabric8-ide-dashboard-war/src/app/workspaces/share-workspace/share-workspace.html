<!--

    Copyright (c) 2016-2018 Red Hat, Inc.
    This program and the accompanying materials are made
    available under the terms of the Eclipse Public License 2.0
    which is available at https://www.eclipse.org/legal/epl-2.0/

    SPDX-License-Identifier: EPL-2.0

    Contributors:
      Red Hat, Inc. - initial API and implementation

-->
<che-description che-link-title="Learn more about Che factories." che-link="/docs/factories.html">
  Workspace sharing is currently only supported via factories.
</che-description>
<md-content md-scroll-y flex layout="column" md-theme="maincontent-theme">
  <md-progress-linear md-mode="indeterminate"
                      class="create-factory-progress"
                      ng-show="shareWorkspaceController.isLoading"></md-progress-linear>
  <!-- Factory name input box -->
  <che-label-container che-label-name="Factory Name"
                       che-label-description="Define a name for your Factory.">
    <ng-form name="factoryNameForm">
      <che-input-box ng-init="shareWorkspaceController.setForm(factoryNameForm)"
                     che-form="factoryNameForm"
                     che-name="name"
                     che-place-holder="Name of the factory"
                     aria-label="Name of the factory"
                     ng-model="shareWorkspaceController.factoryName"
                     ng-trim
                     ng-minlength="3"
                     ng-maxlength="20"
                     ng-pattern="/^[ A-Za-z0-9_\-\.]+$/"
                     id="new-factory-name-input"
                     unique-factory-name="">
        <div ng-message="pattern">Factory name may contain digits, latin letters, spaces, _ , . , - and should start only with digits, latin letters or underscores</div>
        <div ng-message="minlength">The name has to be more than 3 characters long.</div>
        <div ng-message="maxlength">The name has to be less than 20 characters long.</div>
        <div ng-message="uniqueFactoryName">This factory name is already used.</div>
      </che-input-box>
    </ng-form>
  </che-label-container>
  <!-- Create Factory button -->
  <che-label-container>
    <che-button-save-flat id="share-workspace-as-factory-button"
                          che-button-title="Create Factory"
                          ng-click="shareWorkspaceController.createFactoryForWorkspace()"
                          ng-disabled="shareWorkspaceController.isFormInvalid()"></che-button-save-flat>
  </che-label-container>
</md-content>